<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PER√ö FUERTE: Escudo de Hierro - Panel Interactivo del Proyecto</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals & Subtle Reds -->
    <!-- Application Structure Plan: He dise√±ado una SPA tipo dashboard interactivo en lugar de un documento lineal. La estructura sigue un flujo l√≥gico para un evaluador: 1) El Problema (Panorama de la Anemia con un gr√°fico regional interactivo), 2. La Soluci√≥n (Estrategia de 5 Ejes con paneles desplegables), 3) La Inversi√≥n (Presupuesto y Cronograma con un gr√°fico de dona y una l√≠nea de tiempo visual), y 4) El Impacto (Metas y KPIs). Esta arquitectura est√° pensada para facilitar la comprensi√≥n r√°pida y la exploraci√≥n de datos clave, permitiendo al usuario profundizar en las √°reas de inter√©s sin sentirse abrumado por el texto, permitiendo al usuario profundizar en las √°reas de inter√©s sin sentirse abrumado por el texto. La interacci√≥n se centra en la selecci√≥n de regiones para comparar datos y en la exploraci√≥n de los ejes estrat√©gicos, lo cual es m√°s intuitivo que leer tablas est√°ticas. -->
    <!-- Visualization & Content Choices: 1. Datos Regionales: Report Info -> Comparar √≠ndices de anemia/DCI por regi√≥n. Goal -> Facilitar la comparaci√≥n visual de disparidades. Viz Method -> Gr√°fico de barras interactivo (Chart.js/Canvas). Interaction -> Un men√∫ desplegable permite al usuario seleccionar una regi√≥n, y el gr√°fico se actualiza para mostrar sus datos contra el promedio nacional. Justification -> M√°s din√°mico y claro que una tabla est√°tica. 2. Distribuci√≥n Presupuestal: Report Info -> Presupuesto por eje. Goal -> Mostrar la proporci√≥n de la inversi√≥n. Viz Method -> Gr√°fico de dona (Chart.js/Canvas). Interaction -> Hover sobre los segmentos para ver detalles. Justification -> Comunica la distribuci√≥n de un vistazo. 3. Plan de Trabajo: Report Info -> Fases y duraci√≥n. Goal -> Visualizar la secuencia y duraci√≥n del proyecto. Viz Method -> L√≠nea de tiempo horizontal (HTML/CSS). Interaction -> El estado activo resalta la fase actual. Justification -> M√°s intuitivo que una tabla de texto. 4. Estrategia: Report Info -> Descripci√≥n de los 5 ejes. Goal -> Organizar y explicar la estrategia de forma concisa. Viz Method -> Paneles de acorde√≥n (HTML/JS). Interaction -> Clic para expandir y leer los detalles de cada eje. Justification -> Evita la sobrecarga de informaci√≥n, permitiendo la exploraci√≥n progresiva. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #403A3A;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .stat-card {
            background-color: #FFFFFF;
            border: 1px solid #EAEAEA;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .nav-link {
            transition: color 0.2s ease;
        }
        .nav-link:hover, .nav-link.active {
            color: #C73E1D;
            border-bottom: 2px solid #C73E1D;
        }
        .axis-item {
            cursor: pointer;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
        }
        .axis-item.active, .axis-item:hover {
            border-left-color: #C73E1D;
            background-color: #FFF9F7;
        }
        .axis-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        .timeline-item {
            position: relative;
            padding-bottom: 2rem;
            padding-left: 2.5rem;
            border-left: 2px solid #EAEAEA;
        }
        .timeline-dot {
            position: absolute;
            left: -0.5rem;
            top: 0;
            height: 1rem;
            width: 1rem;
            border-radius: 9999px;
            background-color: #EAEAEA;
            border: 2px solid #FFFFFF;
        }
        .timeline-item.active .timeline-dot {
            background-color: #C73E1D;
        }
        .timeline-item.active {
            border-left-color: #C73E1D;
        }
    </style>
</head>
<body class="antialiased">
    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-10 border-b border-gray-200">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-4">
                    <!-- Logo de la ONG (Usando la referencia local del archivo subido: Logo.jpeg) -->
                    <img src="logo.jpeg" alt="Logo Renovador Impulso" class="h-10 w-auto">
                    <h1 class="text-xl font-bold text-gray-800">PER√ö FUERTE: Escudo de Hierro</h1>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <a href="#panorama" class="nav-link font-medium text-gray-600 pb-1">Panorama</a>
                    <a href="#estrategia" class="nav-link font-medium text-gray-600 pb-1">Estrategia</a>
                    <a href="#inversion" class="nav-link font-medium text-gray-600 pb-1">Inversi√≥n</a>
                    <a href="#metas" class="nav-link font-medium text-gray-600 pb-1">Metas</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <section id="hero" class="text-center mb-16">
            <!-- T√≠tulo del proyecto (MODIFICADO): xl en m√≥vil, 3xl en desktop -->
            <p class="text-xl md:text-3xl font-semibold text-[#C73E1D] max-w-4xl mx-auto">Proyecto social de alto impacto para la reducci√≥n acelerada de la anemia y la desnutrici√≥n cr√≥nica infantil en el Per√∫</p>
            
            <!-- Fechas del proyecto (Mantenido): lg en m√≥vil, 2xl en desktop -->
            <p class="text-lg md:text-2xl font-bold text-blue-600 mt-2 max-w-4xl mx-auto">Noviembre - 2025 a Diciembre - 2027</p>

            <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto">
                <div class="stat-card p-6 rounded-lg text-center">
                    <p class="text-3xl font-bold text-[#C73E1D]">S/ 130 M</p>
                    <p class="text-gray-500 mt-1">Presupuesto Total</p>
                </div>
                <div class="stat-card p-6 rounded-lg text-center">
                    <p class="text-3xl font-bold text-[#C73E1D]">26 Meses</p>
                    <p class="text-gray-500 mt-1">Periodo de Ejecuci√≥n</p>
                </div>
                <div class="stat-card p-6 rounded-lg text-center">
                    <p class="text-3xl font-bold text-[#C73E1D]">10 Regiones</p>
                    <p class="text-gray-500 mt-1">Foco Prioritario</p>
                </div>
            </div>
        </section>

        <section id="panorama" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-4">Panorama de la Anemia en Per√∫</h2>
            <p class="text-center text-gray-600 max-w-3xl mx-auto mb-10">La anemia y la Desnutrici√≥n Cr√≥nica Infantil (DCI) persisten como un desaf√≠o nacional, con marcadas diferencias entre regiones. Esta secci√≥n visualiza el diagn√≥stico actual y la meta de reducci√≥n del proyecto, permitiendo explorar los datos de las zonas m√°s cr√≠ticas.</p>
            
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-lg border border-gray-200">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-semibold">√çndices Regionales (2024 Est.)</h3>
                        <select id="regionSelector" class="border border-gray-300 rounded-md p-2 text-sm focus:ring-2 focus:ring-[#C73E1D]">
                        </select>
                    </div>
                    <p class="text-sm text-gray-500 mb-4">Seleccione una regi√≥n para comparar sus √≠ndices de Anemia y Desnutrici√≥n Cr√≥nica Infantil (DCI) con el promedio nacional.</p>
                    <div class="chart-container h-[350px] md:h-[400px]">
                        <canvas id="regionalAnemiaChart"></canvas>
                    </div>
                </div>

                <div class="space-y-6">
                     <div class="bg-white p-6 rounded-lg border border-gray-200">
                        <h3 class="text-xl font-semibold mb-4">Proyecci√≥n de Reducci√≥n de Anemia</h3>
                        <p class="text-sm text-gray-500 mb-4">La meta del proyecto es lograr una reducci√≥n significativa de la prevalencia de anemia en ni√±os de 6 a 35 meses para finales de 2027.</p>
                        <div class="chart-container h-[250px] md:h-[300px]">
                            <canvas id="anemiaReductionChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="estrategia" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-4">Nuestra Estrategia: 5 Ejes Integrales</h2>
            <p class="text-center text-gray-600 max-w-3xl mx-auto mb-10">El proyecto se articula en cinco ejes de intervenci√≥n que act√∫an de forma coordinada para garantizar la cobertura, calidad y sostenibilidad de las acciones. Haga clic en cada eje para conocer los detalles de su enfoque y actividades principales.</p>
            
            <div class="md:grid md:grid-cols-3 md:gap-8">
                <div id="axis-selector" class="md:col-span-1 mb-8 md:mb-0">
                </div>

                <div id="axis-details" class="md:col-span-2 bg-white p-8 rounded-lg border border-gray-200 min-h-[300px]">
                </div>
            </div>
        </section>

        <section id="inversion" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-4">Plan de Inversi√≥n y Cronograma</h2>
            <p class="text-center text-gray-600 max-w-3xl mx-auto mb-10">La inversi√≥n de S/ 130 millones se distribuye estrat√©gicamente entre los cinco ejes y se ejecuta en tres fases clave durante 26 meses. Esta secci√≥n detalla c√≥mo se asignan los recursos y el cronograma de actividades planificadas.</p>
            <div class="grid md:grid-cols-5 gap-8 items-start">
                <div class="md:col-span-2 bg-white p-6 rounded-lg border border-gray-200">
                    <h3 class="text-xl font-semibold mb-4 text-center">Distribuci√≥n Presupuestal por Eje</h3>
                     <div class="chart-container h-[300px] md:h-[350px]">
                        <canvas id="budgetDonutChart"></canvas>
                    </div>
                </div>
                <div class="md:col-span-3">
                    <h3 class="text-xl font-semibold mb-6">Fases del Proyecto (Nov 2025 - Dic 2027)</h3>
                    <div id="timeline-container"></div>
                </div>
            </div>
        </section>
        
        <section id="metas" class="scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-4">Indicadores de Impacto y Metas al 2027</h2>
            <p class="text-center text-gray-600 max-w-3xl mx-auto mb-10">El √©xito del proyecto se medir√° a trav√©s de Indicadores Clave de Desempe√±o (KPIs) que monitorean el progreso desde la l√≠nea base hasta las metas finales establecidas para Diciembre de 2027. Estos indicadores reflejan el impacto esperado en la salud y el bienestar de la ni√±ez.</p>
            <div id="kpi-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center">
            <p class="font-bold">ONG RENOVADOR IMPULSO</p>
            <p class="text-sm text-gray-400">Comprometidos con el futuro del Per√∫.</p>
            <p class="text-xs text-gray-500 mt-2">RUC: 20551632513 | Jr. Las Nepentas Mz. R Lt. 06 Dpto. A, Urb. S, San Juan de Lurigancho, Lima ‚Äì Per√∫</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const projectData = {
                regionalData: [
                    { region: 'Puno', anemia: 69.0, dci: 24.5 },
                    { region: 'Ucayali', anemia: 62.5, dci: 18.9 },
                    { region: 'Huancavelica', anemia: 59.8, dci: 28.0 },
                    { region: 'Madre de Dios', anemia: 55.1, dci: 15.2 },
                    { region: 'Loreto', anemia: 54.7, dci: 17.1 },
                    { region: 'Cajamarca', anemia: 50.3, dci: 20.4 },
                    { region: 'Lima Metropolitana', anemia: 32.0, dci: 4.5 }
                ],
                nationalAverage: { anemia: 41.8, dci: 11.2 },
                anemiaProjection: { start: 41.8, end: 25.0 },
                strategyAxes: [
                    { 
                        title: "Eje 1: Nutrici√≥n y Suministro",
                        icon: "üíä",
                        description: "Adquisici√≥n, producci√≥n y distribuci√≥n de micronutrientes y alimentos fortificados. Se enfoca en garantizar que los insumos de alta calidad lleguen a la poblaci√≥n objetivo de manera oportuna y eficiente.",
                        budget: 52000000.00
                    },
                    { 
                        title: "Eje 2: Capacitaci√≥n Comunitaria",
                        icon: "üë©‚Äçüè´",
                        description: "Formaci√≥n intensiva de madres, cuidadores y docentes en pr√°cticas √≥ptimas de alimentaci√≥n y salud infantil a trav√©s de la metodolog√≠a 'Madres de Hierro', empoderando a la comunidad.",
                        budget: 19500000.00
                    },
                    { 
                        title: "Eje 3: Articulaci√≥n Intersectorial",
                        icon: "ü§ù",
                        description: "Contrataci√≥n de servicios especializados como log√≠stica y formalizaci√≥n de convenios con entidades p√∫blicas (DRE, Gobiernos Regionales) y privadas para asegurar una ejecuci√≥n coordinada y eficaz.",
                        budget: 13000000.00
                    },
                    { 
                        title: "Eje 4: Despliegue en Campo",
                        icon: "üèûÔ∏è",
                        description: "Movilizaci√≥n de brigadas multidisciplinarias para realizar campa√±as masivas de tamizaje de hemoglobina, desparasitaci√≥n y seguimiento domiciliario en las zonas de m√°s dif√≠cil acceso.",
                        budget: 32500000.00
                    },
                    { 
                        title: "Eje 5: Innovaci√≥n y Monitoreo",
                        icon: "üì±",
                        description: "Desarrollo y uso de la plataforma digital 'Escudo App' para el seguimiento georreferenciado en tiempo real de los casos, permitiendo una toma de decisiones basada en datos y optimizando recursos.",
                        budget: 13000000.00
                    }
                ],
                timeline: [
                    { phase: "1. Planificaci√≥n y Contrataci√≥n", period: "Nov 2025 ‚Äì Abr 2026", objective: "Formalizar convenios, licitar proveedores clave, reclutar personal y desarrollar la versi√≥n inicial de 'Escudo App'.", active: true },
                    { phase: "2. Despliegue e Implementaci√≥n", period: "May 2026 ‚Äì Jun 2027", objective: "Movilizar brigadas, iniciar campa√±as de tamizaje, lanzar talleres 'Madres de Hierro' y distribuir masivamente los suplementos.", active: false },
                    { phase: "3. Consolidaci√≥n y Evaluaci√≥n", period: "Jul 2027 ‚Äì Dic 2027", objective: "Medir el impacto del proyecto, ajustar estrategias, consolidar la data y transferir capacidades a las autoridades locales para la sostenibilidad.", active: false }
                ],
                kpis: [
                    { title: "Reducci√≥n de Anemia", baseline: "41.8%", target: "25.0%", value: 41.8, goal: 25.0, unit: "%" },
                    { title: "Reducci√≥n de DCI", baseline: "11.2%", target: "8.0%", value: 11.2, goal: 8.0, unit: "%" },
                    { title: "Cobertura de Suplementaci√≥n", baseline: "65%", target: "90%", value: 65, goal: 90, unit: "%" },
                    { title: "Madres Capacitadas", baseline: "0", target: "50,000", value: 0, goal: 50000, unit: "" },
                    { title: "Uso de 'Escudo App'", baseline: "0%", target: "100%", value: 0, goal: 100, unit: "%" },
                ]
            };
            
            Chart.defaults.font.family = 'Inter';
            Chart.defaults.color = '#6b7280';
            
            const regionSelector = document.getElementById('regionSelector');
            const axisSelector = document.getElementById('axis-selector');
            const axisDetailsContainer = document.getElementById('axis-details');
            const timelineContainer = document.getElementById('timeline-container');
            const kpiContainer = document.getElementById('kpi-container');

            let regionalAnemiaChart, anemiaReductionChart, budgetDonutChart;
            
            function wrapText(context, text, x, y, maxWidth, lineHeight) {
                const words = text.split(' ');
                let line = '';
                for (let n = 0; n < words.length; n++) {
                    let testLine = line + words[n] + ' ';
                    let metrics = context.measureText(testLine);
                    let testWidth = metrics.width;
                    if (testWidth > maxWidth && n > 0) {
                        context.fillText(line, x, y);
                        line = words[n] + ' ';
                        y += lineHeight;
                    } else {
                        line = testLine;
                    }
                }
                context.fillText(line, x, y);
            }

            function setupRegionalAnemiaChart() {
                const ctx = document.getElementById('regionalAnemiaChart').getContext('2d');
                projectData.regionalData.forEach(item => {
                    const option = document.createElement('option');
                    option.value = item.region;
                    option.textContent = item.region;
                    regionSelector.appendChild(option);
                });

                regionalAnemiaChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Anemia', 'Desnutrici√≥n Cr√≥nica (DCI)'],
                        datasets: []
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: { display: true, text: 'Prevalencia (%)' },
                                grid: { color: '#e5e7eb' }
                            },
                            x: {
                                grid: { display: false }
                            }
                        },
                        plugins: {
                            legend: { position: 'top' },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.dataset.label}: ${context.raw}%`;
                                    }
                                }
                            }
                        }
                    }
                });
                updateRegionalAnemiaChart(regionSelector.value);
            }

            function updateRegionalAnemiaChart(regionName) {
                const selectedRegion = projectData.regionalData.find(r => r.region === regionName);
                if (!selectedRegion) return;

                regionalAnemiaChart.data.datasets = [
                    {
                        label: `Promedio Nacional`,
                        data: [projectData.nationalAverage.anemia, projectData.nationalAverage.dci],
                        backgroundColor: '#D1D5DB',
                        borderColor: '#9CA3AF',
                        borderWidth: 1,
                        barPercentage: 0.6
                    },
                    {
                        label: `${selectedRegion.region}`,
                        data: [selectedRegion.anemia, selectedRegion.dci],
                        backgroundColor: '#F87171',
                        borderColor: '#EF4444',
                        borderWidth: 1,
                        barPercentage: 0.6
                    }
                ];
                regionalAnemiaChart.update();
            }

            function setupAnemiaReductionChart() {
                const ctx = document.getElementById('anemiaReductionChart').getContext('2d');
                anemiaReductionChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['L√≠nea Base (2024)', 'Meta (2027)'],
                        datasets: [{
                            label: 'Prevalencia de Anemia (%)',
                            data: [projectData.anemiaProjection.start, projectData.anemiaProjection.end],
                            borderColor: '#C73E1D',
                            backgroundColor: 'rgba(199, 62, 29, 0.1)',
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: false,
                                title: { display: true, text: 'Prevalencia (%)' },
                                grid: { color: '#e5e7eb' }
                            },
                             x: {
                                grid: { display: false }
                            }
                        },
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
            
            function setupBudgetDonutChart() {
                const ctx = document.getElementById('budgetDonutChart').getContext('2d');
                budgetDonutChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: projectData.strategyAxes.map(axis => axis.title.split(':')[0]),
                        datasets: [{
                            data: projectData.strategyAxes.map(axis => axis.budget),
                            backgroundColor: ['#E57373', '#81C784', '#64B5F6', '#FFD54F', '#BA68C8'],
                            borderColor: '#FFFFFF',
                            borderWidth: 2,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    boxWidth: 15,
                                    padding: 15
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        const value = context.raw;
                                        const total = context.chart.getDatasetMeta(0).total;
                                        const percentage = ((value / total) * 100).toFixed(1);
                                        return `${label} S/ ${value.toLocaleString('es-PE', {minimumFractionDigits: 2})} (${percentage}%)`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            function renderStrategyAxes() {
                projectData.strategyAxes.forEach((axis, index) => {
                    const item = document.createElement('div');
                    item.className = 'axis-item p-4 mb-2 rounded-r-lg';
                    item.dataset.index = index;
                    item.innerHTML = `<div class="flex items-center"><span class="text-2xl mr-4">${axis.icon}</span><span class="font-semibold">${axis.title}</span></div>`;
                    axisSelector.appendChild(item);
                });
                axisSelector.addEventListener('click', (e) => {
                    const targetItem = e.target.closest('.axis-item');
                    if(targetItem) {
                        const index = targetItem.dataset.index;
                        updateAxisDetails(index);
                        document.querySelectorAll('.axis-item').forEach(item => item.classList.remove('active'));
                        targetItem.classList.add('active');
                    }
                });
                updateAxisDetails(0);
                axisSelector.children[0].classList.add('active');
            }

            function updateAxisDetails(index) {
                const axis = projectData.strategyAxes[index];
                const budgetFormatted = `S/ ${axis.budget.toLocaleString('es-PE', {minimumFractionDigits: 2})}`;
                axisDetailsContainer.innerHTML = `
                    <h3 class="text-2xl font-bold mb-2">${axis.title}</h3>
                    <p class="text-lg font-semibold text-[#C73E1D] mb-4">${budgetFormatted}</p>
                    <p class="text-gray-600 leading-relaxed">${axis.description}</p>
                `;
            }

            function renderTimeline() {
                projectData.timeline.forEach(item => {
                    const div = document.createElement('div');
                    div.className = `timeline-item ${item.active ? 'active' : ''}`;
                    div.innerHTML = `
                        <div class="timeline-dot"></div>
                        <p class="text-xs text-gray-500">${item.period}</p>
                        <h4 class="font-semibold text-lg text-gray-800">${item.phase}</h4>
                        <p class="text-gray-600 mt-1">${item.objective}</p>
                    `;
                    timelineContainer.appendChild(div);
                });
            }

            function renderKPIs() {
                projectData.kpis.forEach(kpi => {
                    let progress = 0;
                    if (kpi.goal > kpi.value) { // Increasing KPI (e.g., coverage)
                        progress = (kpi.value / kpi.goal) * 100;
                    } else { // Decreasing KPI (e.g., anemia rate)
                        const totalReduction = kpi.value - kpi.goal;
                        const currentReduction = kpi.value - kpi.value; // It is baseline.
                        progress = totalReduction > 0 ? (currentReduction / totalReduction) * 100 : 0;
                    }
                    if (kpi.title === "Reducci√≥n de Anemia" || kpi.title === "Reducci√≥n de DCI") progress = 0;

                    const card = document.createElement('div');
                    card.className = 'stat-card p-6 rounded-lg';
                    card.innerHTML = `
                        <h4 class="font-semibold text-gray-800">${kpi.title}</h4>
                        <div class="flex justify-between items-baseline mt-2">
                            <span class="text-sm text-gray-500">Base: ${kpi.baseline}</span>
                            <span class="text-lg font-bold text-[#C73E1D]">Meta: ${kpi.target}</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5 mt-3">
                            <div class="bg-[#C73E1D] h-2.5 rounded-full" style="width: ${progress}%"></div>
                        </div>
                    `;
                    kpiContainer.appendChild(card);
                });
            }

            function setupNavScroll() {
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href');
                        document.querySelector(targetId).scrollIntoView({
                            behavior: 'smooth'
                        });
                        document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
                        this.classList.add('active');
                    });
                });
            }

            setupRegionalAnemiaChart();
            regionSelector.addEventListener('change', (e) => updateRegionalAnemiaChart(e.target.value));
            setupAnemiaReductionChart();
            setupBudgetDonutChart();
            renderStrategyAxes();
            renderTimeline();
            renderKPIs();
            setupNavScroll();
        });
    </script>
</body>
</html>

